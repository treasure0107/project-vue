function setInput(e){document.getElementById("txt_calendar").value=checkYear+splitString+checkMonth+splitString+e,hidDate()}function showDate(){createDate(nowYear,nowMonth);document.getElementById("txt_calendar").offsetLeft,document.getElementById("txt_calendar").offsetTop;document.getElementById("dateOuter").style.left="50%",document.getElementById("dateOuter").style.top="50%",document.getElementById("dateOuter").style.display=""}function createDate(e,t){var n='<div style="height: 30px;">';n+='<p style="width: 100%;height: 30px;text-align: center;color: #999;" onclick="getThisDay()">当前日期 '+nowYear+"年"+nowMonth+"月"+nowDay+"号",n+='<span id="closeDate" onClick="hidDate()" style="float: right;font-size: 25px;margin: -8px 3px 0 0;cursor: pointer;">×</span></p></div>',n+='<div style="margin-bottom: 8px;">',n+='<span id="lastMonth" onclick="lastMonthClick()" style="margin: 0 20px 0 25px;cursor:pointer;"><</span>',n+='<select id ="selectYear" class="selectStyle" onchange="changeYearAndMonth()">';for(a=1900;a<=2099;a++)n+="<option value="+a+">"+a+"</option>";n+="</select>年",n+='<select id ="selectMonth" class="selectStyle" onchange="changeYearAndMonth()">';for(a=1;a<=12;a++)n+="<option value="+a+">"+a+"</option>";n+="</select>月",n+='<span id="nextMonth" onClick="nextMonthClick()" style="float: right;margin-right: 25px;cursor:pointer;">></span></div>',n+='<div class="everyWeekDay">';for(a=0;a<weekDays.length;a++)"日"==weekDays[a]||"六"==weekDays[a]?n+='<span class="weekday" style="color:red;">'+weekDays[a]+"</span>":n+='<span class="weekday">'+weekDays[a]+"</span>";n+="</div>",n+='<div class="everyDay"><div class="marginTop">';var o=getThisWeekDay(e,t,1);if(0!=o)for(a=0;a<o;a++)n+='<span class="days"></span>';for(var a=1;a<getThisMonthDay(e,t)+1;a++)e==nowYear&&t==nowMonth&&a==nowDay?6==getThisWeekDay(e,t,a)||0==getThisWeekDay(e,t,a)?n+='<span onclick="setInput('+a+')" class="days" style="background-color:#4eccc4;color:#FFFFFF;cursor:pointer;">'+a+"</span>":n+='<span onClick="setInput('+a+')" class="days" style="background-color:#4eccc4;color:#FFFFFF;cursor:pointer;">'+a+"</span>":6==getThisWeekDay(e,t,a)||0==getThisWeekDay(e,t,a)?n+='<span id="weekends" onClick="setInput('+a+')" class="days" onmouseover="mouseOver(this);" onmouseout="mouseOut(this)" style="color:red;cursor:pointer;">'+a+"</span>":n+='<span onClick="setInput('+a+')" class="days" onmouseover="mouseOver(this);" onmouseout="mouseOut(this)" style="cursor:pointer;">'+a+"</span>",6==getThisWeekDay(e,t,a)&&(n+="</tr>");n+="</div></div>",document.getElementById("dateOuter").innerHTML=n,document.getElementById("selectYear").value=e,document.getElementById("selectMonth").value=t}function getThisDay(){createDate(checkYear=nowYear,checkMonth=nowMonth)}function lastMonthClick(){1==checkMonth?(checkYear-=1,checkMonth=12):checkMonth-=1,createDate(checkYear,checkMonth)}function nextMonthClick(){12==checkMonth?(checkYear+=1,checkMonth=1):checkMonth+=1,createDate(checkYear,checkMonth)}function changeYearAndMonth(){checkYear=document.getElementById("selectYear").value,checkMonth=document.getElementById("selectMonth").value,createDate(checkYear,checkMonth)}function isLeapYear(e){var t=!1;return 0!=e%4||e%100==0&&e%400!=0||(t=!0),t}function getThisMonthDay(e,t){var n=lastDays[t-1];return 2==t&&isLeapYear(e)&&n++,n}function getThisWeekDay(e,t,n){return new Date(e,t-1,n).getDay()}function mouseOver(e){"weekends"==e.id?e.style.border="1px solid red":e.style.border="1px solid #4eccc4"}function mouseOut(e){e.style.border="1px solid #F7F7F7"}function hidDate(){document.getElementById("dateOuter").style.display="none"}function myBrowser(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?"IE":e.indexOf("Trident")>-1?"Edge":void 0}var date=new Date,nowYear=date.getFullYear(),nowMonth=date.getMonth()+1,nowDay=date.getDate(),splitString="-",weekDays=new Array("日","一","二","三","四","五","六"),months=new Array("一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"),lastDays=new Array(31,28,31,30,31,30,31,31,30,31,30,31),checkYear=nowYear,checkMonth=nowMonth,outerStyle="display: none;position: absolute;width: 314px;margin-top:-362px;border: 1px solid #F7F7F7;border-radius: 5px;background-color: #F7F7F7;color: #4eccc4;padding-bottom: 20px;";document.write('<div style="'+outerStyle+'" id="dateOuter"></div>');var direct,scrollFunc=function(e){var t=e||window.event;if(t.wheelDelta?direct=t.wheelDelta:t.detail&&(direct=t.detail),"none"==document.getElementById("dateOuter").style.display)return!1;"120"==direct||"3"==direct?lastMonthClick():"-120"!=direct&&"-3"!=direct||nextMonthClick()};document.addEventListener?"FF"==myBrowser()?document.addEventListener("DOMMouseScroll",scrollFunc,!1):document.addEventListener("mousewheel",scrollFunc,!1):document.onmousewheel=scrollFunc;